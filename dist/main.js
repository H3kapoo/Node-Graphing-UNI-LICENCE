/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(645),i=n.n(r),o=n(667),s=n.n(o),a=new URL(n(433),n.b),c=i()((function(e){return e[1]})),d=s()(a);c.push([e.id,"*{\n    padding: 0;\n    margin: 0;\n    box-sizing:border-box;\n}\n\n#appCont{\n    \n    position:fixed;\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: 100%;\n    background:rgba(255,255,255,0.1);\n}\n\n#spann{\n    color:red;\n}\n#canvas-cont{\n    width: 100%;\n    height: calc(100% - 36px); /*because of tabs height*/\n    overflow: auto;\n    /* background-color: rgb(75, 75, 75); */\n    background-color: rgb(255, 255, 255);\n\n}\n#canvas{\n    overflow-x: auto;\n    display: block;\n    /* background-color: rgb(212, 90, 90); */\n\n}\n\n\n#cli-cont{\n    width: 100%;\n    height: 100%;   \n    padding: 10px;\n}\n\n\n#cli-textarea:focus{\n    outline: none;\n}\n#cli-textarea2{\n    white-space: pre;\n    font-size: 14px;\n    line-height: em;\n    font-size: 1em;\n    white-space: nowrap;\n    overflow-x: auto;\n    resize: none;\n    width: 100%;\n    height: 100%; \n    -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n    -moz-box-sizing: border-box;    /* Firefox, other Gecko */\n    box-sizing: border-box;         /* Opera/IE 8+ */\n    padding: 5px;\n}\n\n#error{\n    width: 100%;\n}\n\n.highLite,.highLite_err{\n    width: 100%;\n    height: 100%;\n    position: relative;\n    /* white-space: nowrap; */\n    /* overflow-x: auto;\n    overflow-y: auto; */\n  }\n  \n\n.highLite_editable{\n    width: 100%;\n    height: 100%;\n    outline: none;\n  }\n  \n  /* THE UNDERLAYING ONE WITH COLORS */\n.highLite_colors,.highLite_colors_err {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0; \n    user-select: none;\n  }\n\n  .highLite_colors_err{\n      padding-top: 20px;\n  }\n  \n  /* THE OVERLAYING CONTENTEDITABLE WITH TRANSPARENT TEXT */\n.highLite > div:nth-child(2) {\n    position: relative;\n    -webkit-text-fill-color: transparent; /* Chrome: make text transparent */\n    /* text-fill-color: transparent;         One day, hopefully? */\n    color: black;                         /* But keep caret black */\n  }\n\n.hl_angled{ color: turquoise; }\n.hl_curly{ color: fuchsia; }\n\n\n\n.highlight {\n    background-color: yellow;\n  }\n\n.gutter {\n    background-repeat: no-repeat;\n    background-position: 50%;\n    background-color: rgb(128, 128, 128);\n}\n\n.gutter.gutter-horizontal {\n    background-image: url("+d+");\n    cursor: col-resize;\n}\n\n.gutter.gutter-vertical {\n    background-image: url("+d+');\n    cursor:row-resize;\n}\n\n.error_tab_tag,.cli_tab_tag{\n    color: white;\n    font-size: 0.9rem;\n    font-family:Arial, Helvetica, sans-serif;\n    font-weight: 100;\n    background-color: rgb(128, 128, 128);\n    padding-bottom: 5px;\n    text-align: center;\n}\n.cli_tab_tag{\n    padding-top: 5px;\n\n}\n\n#cmd-text{\n    word-break: break-all;\n    /* overflow-wrap: break-word; */\n    white-space: pre-wrap;\n}\n\n.highLite_editable { \n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: break-word;\n\n   color:chocolate;\n}\n\n.highLite_editable::before{\n    content: "CLI>";\n    padding-left: 3px;\n    padding-right: 10px;\n    background-color: turquoise;\n    border-radius: 10px;\n}\n',""]);const l=c},330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,'/*!\n * tabbyjs v12.0.3\n * Lightweight, accessible vanilla JS toggle tabs.\n * (c) 2019 Chris Ferdinandi\n * MIT License\n * http://github.com/cferdinandi/tabby\n */\n\n/**\n * The tablist\n */\n[role="tablist"] {\n  border-bottom: 1px solid lightgray;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n[role="tablist"] * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n\n/**\n * The tablist item\n */\n@media (min-width: 30em) {\n  [role="tablist"] li {\n    display: inline-block;\n  }\n}\n\n/**\n * The tabs\n */\n[role="tab"] {\n  border: 1px solid transparent;\n  border-top-color: lightgray;\n  display: block;\n  padding: 0.4em 1em;\n  text-decoration: none;\n  font-size: 1em;\n  color: black;\n  /**\n\t * Active tab styling\n\t */\n  /**\n\t * Tabs on hover\n\t */\n}\n\n@media (min-width: 30em) {\n  [role="tab"] {\n    border-top-color: transparent;\n    border-top-left-radius: 0.5em;\n    border-top-right-radius: 0.5em;\n    display: inline-block;\n    margin-bottom: -1px;\n  }\n}\n\n[role="tab"][aria-selected="true"] {\n  background-color: lightgray;\n}\n\n@media (min-width: 30em) {\n  [role="tab"][aria-selected="true"] {\n    background-color: transparent;\n    border: 1px solid lightgray;\n    border-bottom-color: #ffffff;\n  }\n}\n\n[role="tab"]:hover:not([aria-selected="true"]) {\n  background-color: #f7f7f7;\n}\n\n@media (min-width: 30em) {\n  [role="tab"]:hover:not([aria-selected="true"]) {\n    border: 1px solid lightgray;\n  }\n}\n\n/**\n * [hidden] fallback for IE10 and lower\n */\n[hidden] {\n  display: none;\n}',""]);const o=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],d=r.base?c[0]+r.base:c[0],l=o[d]||0,u="".concat(d," ").concat(l);o[d]=l+1;var h=n(u),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==h?(t[h].references++,t[h].updater(p)):t.push({identifier:u,updater:i(p,r),references:1}),s.push(u)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=r(e,i),d=0;d<o.length;d++){var l=n(o[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},394:function(e,t,n){var r,i;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),i=void 0!==n.g?n.g:"undefined"!=typeof window?window:this,void 0===(r=function(){return function(e){"use strict";var t={idPrefix:"tabby-toggle_",default:"[data-tabby-default]"},n=function(t){if(t&&"true"!=t.getAttribute("aria-selected")){var n=document.querySelector(t.hash);if(n){var r=function(e){var t=e.closest('[role="tablist"]');if(!t)return{};var n=t.querySelector('[role="tab"][aria-selected="true"]');if(!n)return{};var r=document.querySelector(n.hash);return n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1"),r?(r.setAttribute("hidden","hidden"),{previousTab:n,previousContent:r}):{previousTab:n}}(t);!function(e,t){e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),t.removeAttribute("hidden"),e.focus()}(t,n),r.tab=t,r.content=n,function(t,n){var r;"function"==typeof e.CustomEvent?r=new CustomEvent("tabby",{bubbles:!0,cancelable:!0,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent("tabby",!0,!0,n),t.dispatchEvent(r)}(t,r)}}};return function(r,i){var o,s,a={destroy:function(){var e=s.querySelectorAll("a");Array.prototype.forEach.call(e,(function(e){var t=document.querySelector(e.hash);t&&function(e,t,n){e.id.slice(0,n.idPrefix.length)===n.idPrefix&&(e.id=""),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex"),e.closest("li").removeAttribute("role"),t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("hidden")}(e,t,o)})),s.removeAttribute("role"),document.documentElement.removeEventListener("click",c,!0),s.removeEventListener("keydown",d,!0),o=null,s=null},setup:function(){if(s=document.querySelector(r)){var e=s.querySelectorAll("a");s.setAttribute("role","tablist"),Array.prototype.forEach.call(e,(function(e){var t=document.querySelector(e.hash);t&&function(e,t,n){e.id||(e.id=n.idPrefix+t.id),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t.id),e.closest("li").setAttribute("role","presentation"),t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledby",e.id),e.matches(n.default)?e.setAttribute("aria-selected","true"):(e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"),t.setAttribute("hidden","hidden"))}(e,t,o)}))}},toggle:function(e){var t=e;"string"==typeof e&&(t=document.querySelector(r+' [role="tab"][href*="'+e+'"]')),n(t)}},c=function(e){var t=e.target.closest(r+' [role="tab"]');t&&(e.preventDefault(),n(t))},d=function(e){var t=document.activeElement;t.matches(r+' [role="tab"]')&&(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Up","Down","Left","Right","Home","End"].indexOf(e.key)<0||function(e,t){var r=function(e){var t=e.closest('[role="tablist"]'),n=t?t.querySelectorAll('[role="tab"]'):null;if(n)return{tabs:n,index:Array.prototype.indexOf.call(n,e)}}(e);if(r){var i,o=r.tabs.length-1;["ArrowUp","ArrowLeft","Up","Left"].indexOf(t)>-1?i=r.index<1?o:r.index-1:["ArrowDown","ArrowRight","Down","Right"].indexOf(t)>-1?i=r.index===o?0:r.index+1:"Home"===t?i=0:"End"===t&&(i=o),n(r.tabs[i])}}(t,e.key))};return o=function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e}(t,i||{}),a.setup(),function(t){if(!(e.location.hash.length<1)){var r=document.querySelector(t+' [role="tab"][href*="'+e.location.hash+'"]');n(r)}}(r),document.documentElement.addEventListener("click",c,!0),s.addEventListener("keydown",d,!0),a}}(i)}.apply(t,[]))||(e.exports=r)},433:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.b=document.baseURI||self.location.href,(()=>{"use strict";var e=n(379),t=n.n(e),r=n(795),i=n.n(r),o=n(569),s=n.n(o),a=n(565),c=n.n(a),d=n(216),l=n.n(d),u=n(589),h=n.n(u),p=n(646),f={};f.styleTagTransform=h(),f.setAttributes=c(),f.insert=s().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=l(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;var _=n(330),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=s().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=l(),t()(_.Z,g),_.Z&&_.Z.locals&&_.Z.locals;var m=n(394),b=n.n(m),v="undefined"!=typeof window?window:null,y=null===v,x=y?void 0:v.document,E="horizontal",w=function(){return!1},C=y?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=x.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",A=function(e){return"string"==typeof e||e instanceof String},L=function(e){if(A(e)){var t=x.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},I=function(e,t,n){var r=e[t];return void 0!==r?r:n},S=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},k=function(e,t){var n=x.createElement("div");return n.className="gutter gutter-"+t,n},O=function(e,t,n){var r={};return A(t)?r[e]=t:r[e]=C+"("+t+"% - "+n+"px)",r},N=function(e,t){var n;return(n={})[e]=t+"px",n};const T={"-radius":{active:!0,type:"integer"},"-pos":{active:!0,type:"intPairVec"},"-color":{active:!0,type:"string"},"-node_id":{active:!0,type:"integer"},"-type":{active:!0,type:"string"},"-id":{active:!0,type:"integer"},"-others":{active:!1,type:"?"}},z={"-color":{active:!0,type:"string"},"-id":{active:!0,type:"integer"},"-id_src":{active:!0,type:"integer"},"-id_dest":{active:!0,type:"integer"},"-color":{active:!0,type:"string"},"-directed":{active:!0,type:"boolean"},"-elev":{active:!0,type:"integer"}},j={boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,integer:e=>!isNaN(e)&&!isNaN(parseInt(e)),intPairVec:e=>2===e.length&&!(isNaN(e[0])||isNaN(parseInt(e[0]))||isNaN(e[1])||isNaN(parseInt(e[1])))};class D{_state_={};_actionsQueue_=[];_maxNodeId_=-1;_maxConnId_=-1;constructor(){this._state_={nodes:{},conns:{}}}pushCreateNode(e){let t=this._validateUserProcessed("node",e);if(t.hasError)return t;let n=this._getNextId("node");return e["-node_id"]=n,this._actionsQueue_.push({type:"createNode",opts:e}),{hasError:!1,msg:`Created Node with ID: ${n}`}}pushUpdateNode(e){let t=this._validateUserProcessed("node",e);if(t.hasError)return t;let n=this._state_.nodes[e["-id"]];if(void 0===n)return{hasError:!0,msg:`Node Id: ${e["-id"]} has not been found!`};delete e["-id"];for(const[t,r]of Object.entries(e))n[t]=r;return this._actionsQueue_.push({type:"updateNode",opts:n}),{hasError:!1,msg:`Updated Node with ID: ${n["-node_id"]}`}}pushDeleteNode(e){let t=this._state_.nodes[e];if(void 0===t)return{hasError:!0,msg:`Can't delete non-existent node Id: ${e}`};for(let e=0;e<t["-conn_refs"].length;e++){let n=t["-conn_refs"][e],r=this.pushDeleteConn(n);r.hasError&&r.msg}return this._actionsQueue_.push({type:"deleteNode",opts:e}),{hasError:!1,msg:`Deleted Node with ID: ${node_Id}`}}pushCreateConn(e){let t=this._validateUserProcessed("conn",e);if(t.hasError)return t;if(void 0===this._state_.nodes[e["-id_src"]])return{hasError:!0,msg:`Node Id ${e["-id_src"]} doesn't exist`};if(void 0===this._state_.nodes[e["-id_dest"]])return{hasError:!0,msg:`Node Id ${e["-id_dest"]} doesn't exist`};let n=this._getNextId("conn");return e["-conn_id"]=n,this._state_.nodes[e["-id_src"]]["-conn_refs"]||(this._state_.nodes[e["-id_src"]]["-conn_refs"]=[]),this._state_.nodes[e["-id_dest"]]["-conn_refs"]||(this._state_.nodes[e["-id_dest"]]["-conn_refs"]=[]),this._state_.nodes[e["-id_dest"]]["-conn_refs"].push(n),this._state_.nodes[e["-id_src"]]["-conn_refs"].push(n),this._actionsQueue_.push({type:"createConn",opts:e}),{hasError:!1,msg:`Created Conn with ID: ${n}`}}pushUpdateConn(e){let t=this._validateUserProcessed("conn",e);if(t.hasError)return t;let n=this._state_.conns[e["-id"]];if(void 0===n)return{hasError:!0,msg:`Conn Id: ${e["-id"]} has no been found!`};delete e["-id"];for(const[t,r]of Object.entries(e))n[t]=r;return this._actionsQueue_.push({type:"updateConn",opts:n}),{hasError:!1,msg:`Updated Conn with ID: ${n["-conn_id"]}`}}pushDeleteConn(e){return void 0===this._state_.conns[e]?{hasError:!0,msg:`Can't delete non existent conn id: ${e} .`}:(this._actionsQueue_.push({type:"deleteConn",opts:e}),{hasError:!1,msg:`Deleted Conn with ID: ${connId}`})}executePushed(){for(const e of this._actionsQueue_)switch(e.type){case"createNode":case"updateNode":this._state_.nodes[e.opts["-node_id"]]=e.opts;break;case"deleteNode":delete this._state_.nodes[e.opts];break;case"createConn":case"updateConn":this._state_.conns[e.opts["-conn_id"]]=e.opts;break;case"deleteConn":delete this._state_.conns[e.opts]}let e=this._actionsQueue_;return this._actionsQueue_=[],{msg:e}}_validateUserProcessed(e,t){delete t.cmdName;for(const[e,n]of Object.entries(t))"KEEP_UNCHANGED"===n&&delete t[e];for(const[n,r]of Object.entries(t)){if("node"===e){if(!T[n]||!T[n].active)return{hasError:!0,msg:`Option: '${n}' is not supported on nodes. Check supported node options first!`};let e=T[n].type;if(!j[e](r))return{hasError:!0,msg:`Option: '${n}' is not of expected type or out of bounds assignment error.                                error.Check command logic definition for errors!`}}if("conn"===e){if(!z[n]||!z[n].active)return{hasError:!0,msg:`Option: '${n}' is not supported on conns. Check supported conns operations first!`};let e=z[n].type;if(!j[e](r))return{hasError:!0,msg:`Option: '${n}' is not of expected type or out of bounds assignment error.                                error.Check command logic definition for errors!`}}}return{hasError:!1}}_getNextId(e){return"node"===e?++this._maxNodeId_:"conn"===e?++this._maxConnId_:"undefined type"}getState(){return this._state_}getNodeData(){return{...this._state_.nodes}}getConnsData(){return{...this._state_.conns}}}let M={};const P={oneDimStringVec(e){let t=e.split(","),n=[];if(","===e[0]||","===e[e.length-1])return{hasError:!0,msg:"Trailing comma is invalid at arg: "+e};for(let e=0;e<t.length;e++)n.push(t[e]);return n},nDimIntVecs(e){let t=e.split("|"),n=[];for(let e=0;e<t.length;e++){let r=[];if(","===t[e][0]||","===t[e][t[e].length-1])return{hasError:!0,msg:"Trailing comma is invalid at arg: "+t[e]};let i=t[e].split(",");for(let e=0;e<i.length;e++){if(!this._isValidInt(i[e]))return{hasError:!0,msg:i[e]+" must be an INT in: "+i+" but it's not"};r.push(parseInt(i[e]))}n.push(r)}return n},twoDimIntVecs(e){let t=e.split("|"),n=[];for(let e=0;e<t.length;e++){let r=[];if(","===t[e][0]||","===t[e][t[e].length-1])return{hasError:!0,msg:"Trailing comma is invalid at arg: "+t[e]};let i=t[e].split(",");if(2!==i.length)return{hasError:!0,msg:"Argument must be 2D pair but its not: "+t[e]};if(!this._isValidInt(i[0]))return{hasError:!0,msg:i[0]+" must be an INT in: "+t[e]+" but it's not"};if(!this._isValidInt(i[1]))return{hasError:!0,msg:i[1]+" must be an INT in: "+t[e]+" but it's not"};r.push(parseInt(i[0]),parseInt(i[1])),n.push(r)}return n},oneDimIntVec(e){let t=e.split(","),n=[];if(","===e[0]||","===e[e.length-1])return{hasError:!0,msg:"Trailing comma is invalid at arg: "+e};for(let r=0;r<t.length;r++){if(!this._isValidInt(t[r]))return{hasError:!0,msg:t[r]+" must be an INT in: "+e+" but it's not"};n.push(parseInt(t[r]))}return n},_isValidInt:e=>!isNaN(e)&&!isNaN(parseInt(e))};class U{parse(e){let t={};const n=e.replace(/\s+/g," ").split(" ").filter((e=>0!==e.length));if(!n.length)return{hasError:"false",msg:"Line empty.Nothing to do!"};if(!M[n[0]])return{hasError:!0,msg:`Command '${n[0]}' doesn't exist!`};let r=n[0].split(".");for(let e=1;e<r.length;e++)r[e]=r[e].charAt(0).toUpperCase()+r[e].substr(1);let i=r.join("");t.cmdName=i;for(let e=1;e<n.length;e+=2){let r=n[e],i=this._isArgThere(n,e+1)?n[e+1]:null;if(!M[n[0]][r])return{hasError:!0,msg:`There is no option '${r}' for command: ${n[0]} .`};if(null==i)return{hasError:!0,msg:`There is no argument for option: ${r} .`};if(!P[M[n[0]][r]])return{hasError:!0,msg:"There is no argument schema to parse this argument,                            check for misspelling in the command schema."};if(t[r]=P[M[n[0]][r]](i),t[r].hasError)return t[r]}for(let e of M[n[0]].mandatory)if(!t[e])return{hasError:!0,msg:`Mandatory option: '${e}' not present!`};return t}_isArgThere(e,t){return null!==e[t]}}let H={get:(e,t)=>e[t]?e[t]:[],set:(e,t="KEEP_UNCHANGED")=>void 0===e?t:e};class R{process(e,t){return H[t.cmdName]?H[t.cmdName](t,e):{hasError:!0,msg:`Command '${t.cmdName}' exists but has no logic defined.Did you forget to add it?`}}}function $(e,t,n=15){let r=K(e,t),i=G(r),o=[0,0];o[0]=Math.cos(i-Math.PI)*n+e[0],o[1]=Math.sin(i-Math.PI)*n+e[1];let s=Y(r),a=[s[0],s[1],0],c=Z(a,[0,0,1]);c=W(c,n),c=Q(c,o);let d=Z(a,[0,0,-1]);return d=W(d,n),d=Q(d,o),{p1:e,p2:c,p3:d}}function q(e,t,n,r,i){let o=(a=t,[((s=e)[0]+a[0])/2,(s[1]+a[1])/2]);var s,a;let c=Y(K(t,e)),d=Z([c[0],c[1],0],[0,0,1]);d=W(d,i),d[0]+=o[0],d[1]+=o[1];let l=K(d,e),u=K(d,t),h=G(l),p=G(u),f=[0,0],_=[0,0];return f[0]=Math.cos(h)*n+e[0],f[1]=Math.sin(h)*n+e[1],_[0]=Math.cos(p)*r+t[0],_[1]=Math.sin(p)*r+t[1],{lineStart:f,cpPos:d,lineEnd:_}}function B(e,t,n){e.font="0.60em Courier New",e.strokeStyle="#00000011",e.fillStyle="#00000066",e.textAlign="center",e.textBaseline="middle",e.lineWidth=2,e.fillText(n,t[0],t[1]),e.strokeText(n,t[0],t[1])}function V(e,t,n){e.strokeStyle="#00000011",e.lineWidth=1,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.stroke()}function Q(e,t){return[e[0]+t[0],e[1]+t[1]]}function G(e){return Math.atan2(e[1],e[0])}function W(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Z(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function F(e){return Math.sqrt(e[0]**2+e[1]**2)}function Y(e){return[e[0]/F(e),e[1]/F(e)]}function K(e,t){return[e[0]-t[0],e[1]-t[1]]}function J(e,t){return e[t]||0===e[t]?e[t]:{"-color":"black","-radius":30}[t]}function X(e,t){return e[t]||0===e[t]?e[t]:{"-color":"black","-directed":!1,"-elev":100}[t]}class ee{ctx_=void 0;_width_=void 0;_height_=void 0;constructor(e){this.ctx_=e[0],this._width_=e[1],this._height_=e[2]}render(e){this.ctx_.clearRect(0,0,this._width_,this._height_),this.renderGrid(),this._renderConns(e),this._renderNodes(e)}renderGrid(e=100){for(let t=e;t<this._width_;t+=e)for(let n=e;n<this._height_;n+=e){let e=t.toString()+","+n.toString();B(this.ctx_,[t,n],e)}for(let t=0;t<this._height_;t+=e)V(this.ctx_,[0,t],[this._width_,t]);for(let t=0;t<this._width_;t+=e)V(this.ctx_,[t,0],[t,this._height_])}_renderConns(e){for(const[t,n]of Object.entries(e.conns)){let t=J(e.nodes[n["-id_src"]],"-pos"),r=J(e.nodes[n["-id_dest"]],"-pos"),i=J(e.nodes[n["-id_src"]],"-radius"),o=J(e.nodes[n["-id_dest"]],"-radius"),s=X(n,"-color"),a=X(n,"-directed"),c=q(t,r,i,o,X(n,"-elev"));if(a){let e=$(c.lineEnd,c.cpPos);this.ctx_.beginPath(),this.ctx_.fillStyle="black",this.ctx_.lineWidth=4,this.ctx_.beginPath(),this.ctx_.moveTo(e.p1[0],e.p1[1]),this.ctx_.lineTo(e.p2[0],e.p2[1]),this.ctx_.lineTo(e.p3[0],e.p3[1]),this.ctx_.fill()}this.ctx_.beginPath(),this.ctx_.strokeStyle=s,this.ctx_.lineWidth=4,this.ctx_.beginPath(),this.ctx_.moveTo(c.lineStart[0],c.lineStart[1]),this.ctx_.quadraticCurveTo(c.cpPos[0],c.cpPos[1],c.lineEnd[0],c.lineEnd[1]),this.ctx_.stroke()}}_renderNodes(e){for(const[t,n]of Object.entries(e.nodes)){let e=J(n,"-pos"),t=J(n,"-node_id"),r=J(n,"-radius");this.ctx_.beginPath(),this.ctx_.arc(e[0],e[1],r,0,2*Math.PI),this.ctx_.lineWidth=4,this.ctx_.strokeStyle="black",this.ctx_.stroke(),this.ctx_.font="2em Courier New",this.ctx_.textAlign="center",this.ctx_.textBaseline="middle",this.ctx_.lineWidth=2,this.ctx_.fillText(t.toString(),e[0],e[1]),this.ctx_.strokeText(t.toString(),e[0],e[1])}}}const te=new class{_CLIObject_=void 0;_cmdHistoryArray_=[""];_cmdHistoryOffset_=0;constructor(e){this._CLIObject_=document.getElementById(e),this._listenersSetup()}outputStd(e,t){let n=document.createElement("div");n.id="cmd-info-text",n.innerText=e+" "+t,document.getElementById("cmd-prepender").appendChild(n)}outputErr(e,t){let n=document.createElement("div");n.id="cmd-err-text",n.innerText=e+" "+t,document.getElementById("cmd-prepender").appendChild(n)}clearAfterDoneWithText(){this._cmdHistoryOffset_=0,this._cmdHistoryArray_.push(this._CLIObject_.textContent),this._CLIObject_.textContent="",this._setEndOfContenteditable(this._CLIObject_),this._focusListener(this._CLIObject_)}_listenersSetup(){this._CLIObject_.addEventListener("paste",(e=>this._pasteListener(e))),this._CLIObject_.addEventListener("keydown",(e=>this._keyDownListener(e))),this._CLIObject_.addEventListener("keyup",(e=>this._keyUpListener(e))),this._CLIObject_.addEventListener("input",(e=>this._inputListener())),this._CLIObject_.addEventListener("focus",(e=>this._focusListener()))}_pasteListener(e){e.preventDefault();let t=" "+e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}_keyDownListener(e){e||(e=window.event),e.preventDefault&&13===e.which&&e.preventDefault()}_keyUpListener(e){if(38===e.which){this._cmdHistoryOffset_+1<=this._cmdHistoryArray_.length&&(this._cmdHistoryOffset_+=1);let e=this._cmdHistoryArray_.length-this._cmdHistoryOffset_;this._CLIObject_.textContent=" ",this._CLIObject_.textContent+=this._cmdHistoryArray_[e].replace(/\s{2,1000}/g,""),this._setEndOfContenteditable(this._CLIObject_),this._focusListener(this._CLIObject_)}else if(40===e.which){this._cmdHistoryOffset_-1>0&&(this._cmdHistoryOffset_-=1);let e=this._cmdHistoryArray_.length-this._cmdHistoryOffset_;this._CLIObject_.textContent=" ",this._CLIObject_.textContent+=this._cmdHistoryArray_[e].replace(/\s{2,1000}/g,""),this._setEndOfContenteditable(this._CLIObject_),this._focusListener(this._CLIObject_)}}_inputListener(e){this._cmdHistoryOffset_=0}_focusListener(){this._CLIObject_.textContent.length||(this._CLIObject_.textContent=" ",this._setEndOfContenteditable(this._CLIObject_))}getCLIObject(){return this._CLIObject_}_setEndOfContenteditable(e){let t,n;document.createRange&&(t=document.createRange(),t.selectNodeContents(e),t.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(t))}}("cli-textarea"),ne=new class{_canvasObject_=void 0;_canvasCtx_=void 0;constructor(e){this._canvasObject_=document.getElementById(e),this._canvasCtx_=this._canvasObject_.getContext("2d"),this._setupCanvas()}_setupCanvas(){this._canvasObject_.width=1500,this._canvasObject_.height=1500}getCanvasDetails(){return[this._canvasCtx_?this._canvasCtx_:null,this._canvasObject_.width,this._canvasObject_.height]}}("canvas"),re=new class{_canvasManager_=void 0;_cliManager_=void 0;_commandParser_=new U;_commandProcessor_=new R;graphState_=new D;graphRenderer_=void 0;constructor(e,t){this._canvasManager_=e,this._cliManager_=t,this.graphRenderer_=new ee(this._canvasManager_.getCanvasDetails())}compute(e){if(13!==e.which)return;let t=this._cliManager_.getCLIObject().textContent.split("&");for(let e of t){let t=this._commandParser_.parse(e);if(this._cliManager_.clearAfterDoneWithText(),t.hasError)return this._cliManager_.outputErr("[Parse]",t.msg);let n=this._commandProcessor_.process(this.graphState_,t);if(n.hasError)return this._cliManager_.outputErr("[Process]",n.msg);this.graphRenderer_.render(this.graphState_.getState()),this._cliManager_.outputStd("[GraphInfo]",n.msg)}}start(){this._cliManager_.getCLIObject().addEventListener("keyup",(e=>this.compute(e)))}stop(){this._cliManager_.getCLIObject().removeEventListener("keyup",(e=>this.compute(e)))}}(ne,te);function ie(){let e=H.get,t=H.set;M={},H={},H.get=e,H.set=t;let n=window.api.send("nodify-reload-cmds",{});for(let e of n)oe(e,(()=>{M[data.schema.name]=data.schema,H[data.logic.name]=data.logic[data.logic.name],document.getElementById("cmd-script").remove()}));console.log("[Index.js] Loaded ",n.length," commands!")}function oe(e,t){let n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,r.id="cmd-script",r.onreadystatechange=t,r.onload=t,n.appendChild(r)}(function(e,t){if(void 0===t&&(t={}),y)return{};var n,r,i,o,s,a,c=e;Array.from&&(c=Array.from(c));var d=L(c[0]).parentNode,l=getComputedStyle?getComputedStyle(d):null,u=l?l.flexDirection:null,h=I(t,"sizes")||c.map((function(){return 100/c.length})),p=I(t,"minSize",100),f=Array.isArray(p)?p:c.map((function(){return p})),_=I(t,"maxSize",1/0),g=Array.isArray(_)?_:c.map((function(){return _})),m=I(t,"expandToMin",!1),b=I(t,"gutterSize",10),C=I(t,"gutterAlign","center"),A=I(t,"snapOffset",30),T=I(t,"dragInterval",1),z=I(t,"direction",E),j=I(t,"cursor",z===E?"col-resize":"row-resize"),D=I(t,"gutter",k),M=I(t,"elementStyle",O),P=I(t,"gutterStyle",N);function U(e,t,r,i){var o=M(n,t,r,i);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}function H(){return a.map((function(e){return e.size}))}function R(e){return"touches"in e?e.touches[0][r]:e[r]}function $(e){var t=a[this.a],n=a[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,U(t.element,t.size,this._b,t.i),U(n.element,n.size,this._c,n.i)}function q(e){var n,r=a[this.a],i=a[this.b];this.dragging&&(n=R(e)-this.start+(this._b-this.dragOffset),T>1&&(n=Math.round(n/T)*T),n<=r.minSize+A+this._b?n=r.minSize+this._b:n>=this.size-(i.minSize+A+this._c)&&(n=this.size-(i.minSize+this._c)),n>=r.maxSize-A+this._b?n=r.maxSize+this._b:n<=this.size-(i.maxSize-A+this._c)&&(n=this.size-(i.maxSize+this._c)),$.call(this,n),I(t,"onDrag",w)(H()))}function B(){var e=a[this.a].element,t=a[this.b].element,r=e.getBoundingClientRect(),s=t.getBoundingClientRect();this.size=r[n]+s[n]+this._b+this._c,this.start=r[i],this.end=r[o]}function V(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[s];return 0===n?null:n-=z===E?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(d);if(null===t)return e;if(f.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,r=[],i=e.map((function(i,o){var s=t*i/100,a=S(b,0===o,o===e.length-1,C),c=f[o]+a;return s<c?(n+=c-s,r.push(0),c):(r.push(s-c),s)}));return 0===n?e:i.map((function(e,i){var o=e;if(n>0&&r[i]-n>0){var s=Math.min(n,r[i]-n);n-=s,o=e-s}return o/t*100}))}function Q(){var e=this,n=a[e.a].element,r=a[e.b].element;e.dragging&&I(t,"onDragEnd",w)(H()),e.dragging=!1,v.removeEventListener("mouseup",e.stop),v.removeEventListener("touchend",e.stop),v.removeEventListener("touchcancel",e.stop),v.removeEventListener("mousemove",e.move),v.removeEventListener("touchmove",e.move),e.stop=null,e.move=null,n.removeEventListener("selectstart",w),n.removeEventListener("dragstart",w),r.removeEventListener("selectstart",w),r.removeEventListener("dragstart",w),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",x.body.style.cursor=""}function G(e){if(!("button"in e)||0===e.button){var n=this,r=a[n.a].element,i=a[n.b].element;n.dragging||I(t,"onDragStart",w)(H()),e.preventDefault(),n.dragging=!0,n.move=q.bind(n),n.stop=Q.bind(n),v.addEventListener("mouseup",n.stop),v.addEventListener("touchend",n.stop),v.addEventListener("touchcancel",n.stop),v.addEventListener("mousemove",n.move),v.addEventListener("touchmove",n.move),r.addEventListener("selectstart",w),r.addEventListener("dragstart",w),i.addEventListener("selectstart",w),i.addEventListener("dragstart",w),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",n.gutter.style.cursor=j,n.parent.style.cursor=j,x.body.style.cursor=j,B.call(n),n.dragOffset=R(e)-n.end}}z===E?(n="width",r="clientX",i="left",o="right",s="clientWidth"):"vertical"===z&&(n="height",r="clientY",i="top",o="bottom",s="clientHeight"),h=V(h);var W=[];function Z(e){var t=e.i===W.length,n=t?W[e.i-1]:W[e.i];B.call(n);var r=t?n.size-e.minSize-n._c:e.minSize+n._b;$.call(n,r)}(a=c.map((function(e,t){var r,i={element:L(e),size:h[t],minSize:f[t],maxSize:g[t],i:t};if(t>0&&((r={a:t-1,b:t,dragging:!1,direction:z,parent:d})._b=S(b,t-1==0,!1,C),r._c=S(b,!1,t===c.length-1,C),"row-reverse"===u||"column-reverse"===u)){var o=r.a;r.a=r.b,r.b=o}if(t>0){var s=D(t,z,i.element);!function(e,t,r){var i=P(n,t,r);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}(s,b,t),r._a=G.bind(r),s.addEventListener("mousedown",r._a),s.addEventListener("touchstart",r._a),d.insertBefore(s,i.element),r.gutter=s}return U(i.element,i.size,S(b,0===t,t===c.length-1,C),t),t>0&&W.push(r),i}))).forEach((function(e){var t=e.element.getBoundingClientRect()[n];t<e.minSize&&(m?Z(e):e.minSize=t)}))})(["#left-side","#right-side"],{sizes:[65,35]}),new(b())("[data-tabs-left]"),new(b())("[data-tabs-right]"),re.start(),re.graphRenderer_.renderGrid(),window.api.receive("nodify-reload-cmds-short",((e,t)=>ie())),ie()})()})();